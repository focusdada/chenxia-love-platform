<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
    <title>搜索家庭</title>
    <link rel="stylesheet" href="../css/weui.min.css"/>
    <link rel="stylesheet" href="../css/f.css"/>
</head>
<body ontouchstart>
<div class="container">
    <div class="weui-search-bar" id="searchBar">
        <form class="weui-search-bar__form">
            <div class="weui-search-bar__box">
                <i class="weui-icon-search"></i>
                <input type="search" class="weui-search-bar__input" id="searchInput" placeholder="搜索" required/>
                <a href="javascript:" class="weui-icon-clear" id="searchClear"></a>
            </div>
            <label class="weui-search-bar__label" id="searchText">
                <i class="weui-icon-search"></i>
                <span>搜索</span>
            </label>
        </form>
        <a href="javascript:" class="weui-search-bar__cancel-btn" id="searchCancel">取消</a>
    </div>
    <div class="searchbar-result" id="searchDefalt">
        <div class="weui-cells__title" style="text-align: center">根据手机号/身份证号搜索家庭后添加家庭成员</div>
    </div>
    <div class="weui-cells searchbar-result" id="searchResult">
        <div class="weui-panel weui-panel_access team">
            <div class="weui-panel__bd">
                <a class="weui-media-box weui-media-box_appmsg">
                    <div class="weui-media-box__hd">
                        <img class="weui-media-box__thumb" src="../images/doctor.png" alt="">
                    </div>
                    <div class="weui-media-box__bd">
                        <h4 class="weui-media-box__title">王琦</h4>
                        <p class="weui-media-box__desc">姑苏区金昌街道社区红岭新村25幢1201室</p>
                    </div>
                </a>
                <a class="weui-media-box weui-media-box_appmsg">
                    <div class="weui-media-box__hd">
                        <img class="weui-media-box__thumb" src="../images/doctor.png" alt="">
                    </div>
                    <div class="weui-media-box__bd">
                        <h4 class="weui-media-box__title">归月平</h4>
                        <p class="weui-media-box__desc">亭湖区五星街道到实打实的达萨里的巴萨社区101幢1201室</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <div class="weui-btn-rea fix_btn">
        <a class="weui-btn weui-btn_primary">新建家庭</a>
    </div>
</div>
<script src="../js/zepto.min.js"></script>
<script src="../js/weui.min.js"></script>
<script src="../js/f.js"></script>
<script>
    $(".fix_btn a").on("click", function () {
        location.href = "未签约_基本信息.html"
    });

    //搜索
    var $searchBar = $('#searchBar'),
        $searchResult = $('#searchResult'),
        $searchText = $('#searchText'),
        $searchInput = $('#searchInput'),
        $searchClear = $('#searchClear'),
        $searchCancel = $('#searchCancel');
    $searchDefalt = $('#searchDefalt');

    $searchResult.hide();

    function hideSearchResult() {
        $searchResult.hide();
        $searchInput.val('');
    }

    function cancelSearch() {
        hideSearchResult();
        $searchBar.removeClass('weui-search-bar_focusing');
        $searchText.show();
    }

    $searchText.on('click', function () {
        $searchBar.addClass('weui-search-bar_focusing');
        $searchInput.focus();
    });

    $searchInput
        .on('blur', function () {
            if (!this.value.length) cancelSearch();
        })
        .on('input', function () {
            if (this.value.length >= 11) {
                $searchResult.show();
                $searchDefalt.hide();
            } else {
                $searchResult.hide();
                $searchDefalt.show();
            }
        });

    $searchClear.on('click', function () {
        hideSearchResult();
        $searchInput.focus();
        $searchDefalt.show();
    });
    $searchCancel.on('click', function () {
        cancelSearch();
        $searchInput.blur();
        $searchDefalt.show();
    });
</script>
</body>
</html>
